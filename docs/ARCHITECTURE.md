# MatchCal ç³»çµ±æ¶æ§‹

> å®Œæ•´çš„ç³»çµ±æ¶æ§‹èªªæ˜èˆ‡æŠ€è¡“æ£§æ–‡ä»¶

---

## ğŸ“‹ ç›®éŒ„

1. [ç³»çµ±æ¦‚è¦½](#ç³»çµ±æ¦‚è¦½)
2. [Monorepo æ¶æ§‹](#monorepo-æ¶æ§‹)
3. [Package ä¾è³´é—œä¿‚](#package-ä¾è³´é—œä¿‚)
4. [è³‡æ–™æµå‘](#è³‡æ–™æµå‘)
5. [æŠ€è¡“æ£§](#æŠ€è¡“æ£§)
6. [éƒ¨ç½²æ¶æ§‹](#éƒ¨ç½²æ¶æ§‹)

---

## ç³»çµ±æ¦‚è¦½

### æ ¸å¿ƒç›®æ¨™

è‡ªå‹•åŒ–çˆ¬å–æ¯”è³½è³½ç¨‹ï¼Œä¸¦æ•´åˆç‚ºé–‹æ”¾å¼è¡Œäº‹æ›†ç¶²ç«™ï¼Œè®“ä½¿ç”¨è€…å¯ä¸€éµè¨‚é–±è‡³ Google/Apple/Outlook è¡Œäº‹æ›†ã€‚

### è¨­è¨ˆåŸå‰‡

1. **ä½æˆæœ¬**ï¼šä½¿ç”¨å…è²»æœå‹™ï¼ˆGitHub Pagesã€GitHub Actionsï¼‰
2. **ä½è€¦åˆ**ï¼šPackage é–“é€éæ¨™æº–åŒ–è³‡æ–™æ ¼å¼æºé€š
3. **å¯æ“´å……**ï¼šè¼•é¬†æ–°å¢æ–°çš„è³½äº‹ä¾†æº
4. **éœæ…‹å„ªå…ˆ**ï¼šå‰ç«¯ç‚ºéœæ…‹ç¶²ç«™ï¼Œç„¡éœ€å¾Œç«¯ä¼ºæœå™¨

### ç³»çµ±æ¶æ§‹åœ–

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     GitHub Repository                        â”‚
â”‚                                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚ scraper-core â”‚  â”‚json-manager  â”‚  â”‚ics-generator â”‚       â”‚
â”‚  â”‚  (æ ¸å¿ƒæ¡†æ¶)  â”‚  â”‚  (JSONç®¡ç†)  â”‚  â”‚  (ICSç”Ÿæˆ)   â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚         â–²                â–²                  â–²                 â”‚
â”‚         â”‚                â”‚                  â”‚                 â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚
â”‚                          â”‚                                    â”‚
â”‚                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”                           â”‚
â”‚                  â”‚  scraper-bwf   â”‚                           â”‚
â”‚                  â”‚   (BWFçˆ¬èŸ²)    â”‚                           â”‚
â”‚                  â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜                           â”‚
â”‚                          â”‚                                    â”‚
â”‚                          â–¼                                    â”‚
â”‚                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                            â”‚
â”‚                  â”‚  /data/       â”‚                            â”‚
â”‚                  â”‚  â”œâ”€badminton/ â”‚                            â”‚
â”‚                  â”‚  â”‚  â”œâ”€*.json  â”‚                            â”‚
â”‚                  â”‚  â”‚  â””â”€*.ics   â”‚                            â”‚
â”‚                  â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜                            â”‚
â”‚                          â”‚                                    â”‚
â”‚                          â–¼                                    â”‚
â”‚                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                            â”‚
â”‚                  â”‚      web      â”‚                            â”‚
â”‚                  â”‚  (Nuxt 4 å‰ç«¯)â”‚                            â”‚
â”‚                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                            â”‚
â”‚                                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                           â–¼
                 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                 â”‚  GitHub Pages    â”‚
                 â”‚  (éœæ…‹ç¶²ç«™è¨—ç®¡)  â”‚
                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                           â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   ä½¿ç”¨è€…    â”‚
                    â”‚  è¨‚é–± ICS   â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Monorepo æ¶æ§‹

### ç›®éŒ„çµæ§‹

```
MatchCal/
â”œâ”€â”€ packages/                    # æ‰€æœ‰ packages
â”‚   â”œâ”€â”€ scraper-core/           # çˆ¬èŸ²æ ¸å¿ƒæ¡†æ¶
â”‚   â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”‚   â”œâ”€â”€ base/           # åŸºç¤æŠ½è±¡é¡åˆ¥
â”‚   â”‚   â”‚   â”œâ”€â”€ scheduler/      # æ’ç¨‹å™¨
â”‚   â”‚   â”‚   â”œâ”€â”€ validator/      # è³‡æ–™é©—è­‰
â”‚   â”‚   â”‚   â””â”€â”€ utils/          # å…±ç”¨å·¥å…·
â”‚   â”‚   â”œâ”€â”€ tests/
â”‚   â”‚   â”œâ”€â”€ package.json
â”‚   â”‚   â””â”€â”€ SPEC.md
â”‚   â”‚
â”‚   â”œâ”€â”€ json-manager/           # JSON è³‡æ–™ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”‚   â”œâ”€â”€ reader.js       # è®€å– JSON
â”‚   â”‚   â”‚   â”œâ”€â”€ writer.js       # å¯«å…¥ JSON
â”‚   â”‚   â”‚   â””â”€â”€ merger.js       # æ™ºæ…§åˆä½µ
â”‚   â”‚   â”œâ”€â”€ tests/
â”‚   â”‚   â”œâ”€â”€ package.json
â”‚   â”‚   â””â”€â”€ SPEC.md
â”‚   â”‚
â”‚   â”œâ”€â”€ ics-generator/          # ICS æª”æ¡ˆç”Ÿæˆå™¨
â”‚   â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”‚   â”œâ”€â”€ generator.js    # ICS ç”Ÿæˆ
â”‚   â”‚   â”‚   â”œâ”€â”€ timezone.js     # æ™‚å€è™•ç†
â”‚   â”‚   â”‚   â””â”€â”€ validator.js    # ICS é©—è­‰
â”‚   â”‚   â”œâ”€â”€ tests/
â”‚   â”‚   â”œâ”€â”€ package.json
â”‚   â”‚   â””â”€â”€ SPEC.md
â”‚   â”‚
â”‚   â”œâ”€â”€ scraper-bwf/            # BWF ç¾½çƒè³½äº‹çˆ¬èŸ²
â”‚   â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”‚   â”œâ”€â”€ scraper.js      # çˆ¬èŸ²å¯¦ä½œ
â”‚   â”‚   â”‚   â””â”€â”€ transformer.js  # è³‡æ–™è½‰æ›
â”‚   â”‚   â”œâ”€â”€ tests/
â”‚   â”‚   â”œâ”€â”€ package.json
â”‚   â”‚   â””â”€â”€ SPEC.md
â”‚   â”‚
â”‚   â””â”€â”€ web/                    # Nuxt 4 å‰ç«¯
â”‚       â”œâ”€â”€ pages/
â”‚       â”œâ”€â”€ components/
â”‚       â”œâ”€â”€ composables/
â”‚       â”œâ”€â”€ public/
â”‚       â”œâ”€â”€ nuxt.config.ts
â”‚       â”œâ”€â”€ package.json
â”‚       â””â”€â”€ SPEC.md
â”‚
â”œâ”€â”€ data/                       # è³½äº‹è³‡æ–™è¼¸å‡º
â”‚   â”œâ”€â”€ badminton/              # ç¾½çƒè³½äº‹
â”‚   â”‚   â”œâ”€â”€ bwf-2025.json
â”‚   â”‚   â””â”€â”€ bwf-2025.ics
â”‚   â””â”€â”€ categories.json         # åˆ†é¡è¨­å®š
â”‚
â”œâ”€â”€ docs/                       # æ–‡ä»¶
â”‚   â”œâ”€â”€ INDEX.md
â”‚   â”œâ”€â”€ CURRENT-STAGE.md
â”‚   â”œâ”€â”€ DEVELOPMENT-GUIDE.md
â”‚   â”œâ”€â”€ ARCHITECTURE.md
â”‚   â”œâ”€â”€ stages/
â”‚   â”œâ”€â”€ technical/
â”‚   â””â”€â”€ guides/
â”‚
â”œâ”€â”€ .github/
â”‚   â””â”€â”€ workflows/              # GitHub Actions
â”‚       â”œâ”€â”€ scrape-bwf.yml      # BWF çˆ¬èŸ²æ’ç¨‹
â”‚       â””â”€â”€ deploy.yml          # éƒ¨ç½²å‰ç«¯
â”‚
â”œâ”€â”€ package.json                # Root package.json
â”œâ”€â”€ pnpm-workspace.yaml         # pnpm workspace è¨­å®š
â””â”€â”€ README.md
```

### pnpm Workspace è¨­å®š

**pnpm-workspace.yaml**

```yaml
packages:
  - 'packages/*'
```

**Root package.json**

```json
{
  "name": "matchcal",
  "private": true,
  "scripts": {
    "test": "pnpm -r test",
    "build": "pnpm -r build",
    "lint": "pnpm -r lint",
    "dev": "pnpm --filter @matchcal/web dev"
  },
  "devDependencies": {
    "vitest": "^2.0.0",
    "eslint": "^9.0.0"
  }
}
```

---

## Package ä¾è³´é—œä¿‚

### ä¾è³´åœ–

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚scraper-core  â”‚ (ç„¡ä¾è³´ï¼ŒåŸºç¤æ¡†æ¶)
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚                 â”‚
       â–¼                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚json-manager  â”‚  â”‚ics-generator â”‚ (ä¾è³´ scraper-core)
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚                 â”‚
       â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
                â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ scraper-bwf  â”‚ (ä¾è³´ scraper-core, json-manager, ics-generator)
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
                â–¼
           (ç”Ÿæˆè³‡æ–™)
                â”‚
                â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚     web      â”‚ (ç„¡ npm ä¾è³´ï¼Œè®€å–éœæ…‹è³‡æ–™)
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ä¾è³´èªªæ˜

| Package | ä¾è³´ | èªªæ˜ |
|---------|------|------|
| scraper-core | ç„¡ | åŸºç¤æ¡†æ¶ï¼Œè¢«å…¶ä»–çˆ¬èŸ²ç¹¼æ‰¿ |
| json-manager | scraper-core | éœ€è¦ä½¿ç”¨æ¨™æº–è³‡æ–™æ ¼å¼ |
| ics-generator | scraper-core | éœ€è¦ä½¿ç”¨æ¨™æº–è³‡æ–™æ ¼å¼ |
| scraper-bwf | scraper-core, json-manager, ics-generator | å®Œæ•´çš„çˆ¬èŸ²å¯¦ä½œ |
| web | ç„¡ | å‰ç«¯åªè®€å–éœæ…‹ JSON/ICS æª”æ¡ˆ |

---

## è³‡æ–™æµå‘

### å®Œæ•´è³‡æ–™æµ

```
1. æ’ç¨‹è§¸ç™¼ï¼ˆGitHub Actionsï¼‰
   â”‚
   â–¼
2. scraper-bwf çˆ¬å– BWF ç¶²ç«™
   â”‚ (ä½¿ç”¨ Puppeteer)
   â–¼
3. åŸå§‹è³‡æ–™ï¼ˆHTML/JSONï¼‰
   â”‚
   â–¼
4. transformer è½‰æ›ç‚ºæ¨™æº–æ ¼å¼
   â”‚ (StandardEvent ç‰©ä»¶)
   â–¼
5. json-manager å¯«å…¥ JSON
   â”‚ (æ™ºæ…§åˆä½µï¼Œä¿ç•™æ‰‹å‹•æ¬„ä½)
   â–¼
6. ics-generator ç”Ÿæˆ ICS
   â”‚ (ç¬¦åˆ RFC 5545)
   â–¼
7. è¼¸å‡ºè‡³ /data/badminton/
   â”‚ â”œâ”€ bwf-2025.json
   â”‚ â””â”€ bwf-2025.ics
   â–¼
8. GitHub Actions commit & push
   â”‚
   â–¼
9. Nuxt 4 generate è®€å– JSON
   â”‚ (éœæ…‹ç¶²ç«™ç”Ÿæˆ)
   â–¼
10. GitHub Pages éƒ¨ç½²
    â”‚
    â–¼
11. ä½¿ç”¨è€…è¨ªå•ç¶²ç«™
    â”‚
    â–¼
12. ä¸‹è¼‰ ICS æˆ–è¨‚é–±é€£çµ
    â”‚
    â–¼
13. åŒæ­¥è‡³å€‹äººè¡Œäº‹æ›†
```

### è³‡æ–™æ ¼å¼è½‰æ›

```
BWF ç¶²ç«™è³‡æ–™
    â†“
{åŸå§‹ HTML/JSON}
    â†“ (transformer)
StandardEvent {
  id, title, startDate, endDate,
  timezone, location, category,
  level, source, ...
}
    â†“ (json-manager)
/data/badminton/bwf-2025.json
    â†“ (ics-generator)
/data/badminton/bwf-2025.ics
    â†“ (Nuxt è®€å–)
ç¶²ç«™é¡¯ç¤º + ICS è¨‚é–±
```

---

## æŠ€è¡“æ£§

### Backend / Scraper

| æŠ€è¡“ | ç‰ˆæœ¬ | ç”¨é€” |
|------|------|------|
| Node.js | 20.x | åŸ·è¡Œç’°å¢ƒ |
| Puppeteer | ^23.x | ç€è¦½å™¨è‡ªå‹•åŒ–çˆ¬èŸ² |
| ical.js | ^2.x | ICS æª”æ¡ˆç”Ÿæˆ |
| dayjs | ^1.x | æ™‚é–“è™•ç† |
| zod | ^3.x | è³‡æ–™é©—è­‰ |

### Frontend

| æŠ€è¡“ | ç‰ˆæœ¬ | ç”¨é€” |
|------|------|------|
| Nuxt 4 | ^4.x | å‰ç«¯æ¡†æ¶ |
| Vue 3 | ^3.x | UI æ¡†æ¶ |
| Nuxt UI | ^3.x | UI å…ƒä»¶åº« |
| TailwindCSS | ^3.x | CSS æ¡†æ¶ |

### é–‹ç™¼å·¥å…·

| æŠ€è¡“ | ç‰ˆæœ¬ | ç”¨é€” |
|------|------|------|
| pnpm | 9.x | å¥—ä»¶ç®¡ç† |
| Vitest | ^2.x | æ¸¬è©¦æ¡†æ¶ |
| ESLint | ^9.x | ç¨‹å¼ç¢¼æª¢æŸ¥ |
| TypeScript | ^5.x | å‹åˆ¥æª¢æŸ¥ï¼ˆå¯é¸ï¼‰ |

### CI/CD

| æŠ€è¡“ | ç”¨é€” |
|------|------|
| GitHub Actions | è‡ªå‹•åŒ–çˆ¬èŸ²æ’ç¨‹ + éƒ¨ç½² |
| GitHub Pages | éœæ…‹ç¶²ç«™è¨—ç®¡ |

### MCP å·¥å…·

| å·¥å…· | ç”¨é€” |
|------|------|
| context7 (nuxt) | Nuxt æ¡†æ¶æ–‡ä»¶æŸ¥è©¢ |
| context7 (nuxt-ui) | Nuxt UI å…ƒä»¶æ–‡ä»¶æŸ¥è©¢ |
| chrome-devtools | ç€è¦½å™¨åµéŒ¯èˆ‡çˆ¬èŸ²æ¸¬è©¦ |
| GitHub MCP | GitHub Actionsã€Issuesã€PRs ç®¡ç† |
| Filesystem MCP | æª”æ¡ˆç³»çµ±æ“ä½œèˆ‡ç›£æ§ |

---

## éƒ¨ç½²æ¶æ§‹

### ç”Ÿç”¢ç’°å¢ƒæ¶æ§‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         GitHub Repository                â”‚
â”‚                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚   GitHub Actions (Cron)       â”‚     â”‚
â”‚  â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚     â”‚
â”‚  â”‚   â”‚ scrape-bwf.yml      â”‚     â”‚     â”‚
â”‚  â”‚   â”‚ (æ¯å¤© 00:00 åŸ·è¡Œ)   â”‚     â”‚     â”‚
â”‚  â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                 â”‚                        â”‚
â”‚                 â–¼                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  åŸ·è¡Œçˆ¬èŸ²                        â”‚    â”‚
â”‚  â”‚  1. npm run scrape:bwf          â”‚    â”‚
â”‚  â”‚  2. ç”Ÿæˆ JSON + ICS              â”‚    â”‚
â”‚  â”‚  3. git commit + push            â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                â”‚                        â”‚
â”‚                â–¼                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  /data/ æ›´æ–°                     â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                â”‚                        â”‚
â”‚                â–¼                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚   GitHub Actions (Deploy)       â”‚    â”‚
â”‚  â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚    â”‚
â”‚  â”‚   â”‚ deploy.yml          â”‚       â”‚    â”‚
â”‚  â”‚   â”‚ (push æ™‚è§¸ç™¼)       â”‚       â”‚    â”‚
â”‚  â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                 â”‚                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
                  â–¼
       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚  Nuxt 4 Generate     â”‚
       â”‚  (éœæ…‹ç¶²ç«™ç”Ÿæˆ)      â”‚
       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
                  â–¼
       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚   GitHub Pages       â”‚
       â”‚  https://<user>.     â”‚
       â”‚  github.io/MatchCal  â”‚
       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
                  â–¼
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚   ä½¿ç”¨è€…    â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### GitHub Actions å·¥ä½œæµç¨‹

#### çˆ¬èŸ²æ’ç¨‹ï¼ˆscrape-bwf.ymlï¼‰

```yaml
name: Scrape BWF Events
on:
  schedule:
    - cron: '0 0 * * *'  # æ¯å¤© 00:00 UTC
  workflow_dispatch:      # æ‰‹å‹•è§¸ç™¼

jobs:
  scrape:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - uses: pnpm/action-setup@v2
      - uses: actions/setup-node@v4
        with:
          node-version: 20
          cache: 'pnpm'
      - run: pnpm install
      - run: pnpm --filter @matchcal/scraper-bwf scrape
      - run: |
          git config user.name "GitHub Actions"
          git config user.email "actions@github.com"
          git add data/
          git commit -m "chore: update BWF events data" || exit 0
          git push
```

#### éƒ¨ç½²å‰ç«¯ï¼ˆdeploy.ymlï¼‰

```yaml
name: Deploy to GitHub Pages
on:
  push:
    branches: [main]
    paths:
      - 'packages/web/**'
      - 'data/**'

jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - uses: pnpm/action-setup@v2
      - uses: actions/setup-node@v4
        with:
          node-version: 20
          cache: 'pnpm'
      - run: pnpm install
      - run: pnpm --filter @matchcal/web generate
      - uses: peaceiris/actions-gh-pages@v3
        with:
          github_token: ${{ secrets.GITHUB_TOKEN }}
          publish_dir: ./packages/web/.output/public
```

---

## ğŸ”’ å®‰å…¨æ€§è€ƒé‡

### è³‡æ–™ä¾†æº

- åƒ…çˆ¬å–å…¬é–‹è³½äº‹è³‡è¨Š
- ä¸å­˜å–ä½¿ç”¨è€…å€‹è³‡
- ä¸å„²å­˜æ•æ„Ÿè³‡æ–™

### API Rate Limiting

- çˆ¬èŸ²åŠ å…¥ delayï¼Œé¿å…éåº¦è«‹æ±‚
- ä½¿ç”¨ User-Agent è­˜åˆ¥
- éµå®ˆ robots.txt

### éŒ¯èª¤è™•ç†

- çˆ¬èŸ²å¤±æ•—ä¸ä¸­æ–·æ•´é«”æµç¨‹
- éŒ¯èª¤è¨Šæ¯è¨˜éŒ„åˆ° GitHub Actions logs
- é‡è©¦æ©Ÿåˆ¶ï¼ˆæœ€å¤š 3 æ¬¡ï¼‰

---

## ğŸ“ˆ æ•ˆèƒ½è€ƒé‡

### çˆ¬èŸ²æ•ˆèƒ½

- ä½¿ç”¨ Puppeteer headless æ¨¡å¼
- ä¸¦è¡Œçˆ¬å–å¤šå€‹è³½äº‹ï¼ˆæ§åˆ¶ä¸¦è¡Œæ•¸ï¼‰
- å¿«å–å·²çˆ¬å–çš„è³‡æ–™

### å‰ç«¯æ•ˆèƒ½

- éœæ…‹ç¶²ç«™ç”Ÿæˆï¼ˆSSGï¼‰
- ICS æª”æ¡ˆä½¿ç”¨ CDNï¼ˆGitHub Pagesï¼‰
- åœ–ç‰‡å»¶é²è¼‰å…¥ï¼ˆlazy loadingï¼‰

---

## ğŸš€ æ“´å……æ€§è¨­è¨ˆ

### æ–°å¢è³½äº‹ä¾†æº

åªéœ€æ–°å¢ä¸€å€‹ scraper packageï¼š

```
packages/scraper-{event-name}/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ scraper.js      # ç¹¼æ‰¿ BaseScraper
â”‚   â””â”€â”€ transformer.js  # è½‰æ›ç‚º StandardEvent
â”œâ”€â”€ tests/
â””â”€â”€ package.json
```

æ ¸å¿ƒæ¡†æ¶ç„¡éœ€ä¿®æ”¹ï¼

### æ–°å¢å‰ç«¯åŠŸèƒ½

Nuxt 4 æ”¯æ´ï¼š
- å‹•æ…‹è·¯ç”±
- API routesï¼ˆå¦‚éœ€è¦ï¼‰
- PWAï¼ˆé›¢ç·šæ”¯æ´ï¼‰

---

## ğŸ“š å»¶ä¼¸é–±è®€

- [è³‡æ–™æ ¼å¼è¦ç¯„](technical/DATA-SCHEMA.md)
- [ICS è¦æ ¼](technical/ICS-SPEC.md)
- [çˆ¬èŸ²ä»‹é¢](technical/SCRAPER-INTERFACE.md)
- [é–‹ç™¼æŒ‡å—](DEVELOPMENT-GUIDE.md)

---

ğŸ¯ **æ¶æ§‹è¨­è¨ˆå®Œæˆï¼** å‰å¾€ [CURRENT-STAGE.md](CURRENT-STAGE.md) é–‹å§‹é–‹ç™¼ã€‚
